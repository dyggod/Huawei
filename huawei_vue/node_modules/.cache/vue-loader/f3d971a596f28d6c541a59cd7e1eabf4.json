{"remainingRequest":"E:\\dyg\\myproject\\myHuawei\\huawei_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\dyg\\myproject\\myHuawei\\huawei_vue\\src\\components\\cart.vue?vue&type=style&index=0&id=5abf99a0&scoped=true&lang=css&","dependencies":[{"path":"E:\\dyg\\myproject\\myHuawei\\huawei_vue\\src\\components\\cart.vue","mtime":1561279292000},{"path":"E:\\dyg\\myproject\\myHuawei\\huawei_vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\dyg\\myproject\\myHuawei\\huawei_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\dyg\\myproject\\myHuawei\\huawei_vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\dyg\\myproject\\myHuawei\\huawei_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dyg\\myproject\\myHuawei\\huawei_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 总体 */\nsection>div{\n    width: 1200px;\n    margin:0 auto;\n}\n/* div.top */\ndiv.top>div{\n    display: flex;\n    justify-content: space-between;\n}\ndiv.top>div>span{\n    font-size: 20px;\n    color:#000;\n    font-weight: bolder;\n}\ndiv.top>div>p{\n    font-size: 12px;\n    margin: 0;\n    line-height: 30px;\n}\ndiv.top>div>p>span{\n    color:#ff8486;\n    font-size: 18px;\n}\n/* div.main */\ndiv.main>div.title{\n    display: flex;\n    justify-content: space-between;\n    border-top: 1px solid #ccc;\n}\ndiv.main>div.title>div{\n    height:37px;\n    width: 175px;\n    background: #f9f9f9;\n    line-height: 37px;\n}\ndiv.main>div.title>div.checkAll{\n    width: 50px;\n}\ndiv.main>div.title>div.product{\n    width:450px;\n}\ndiv.main>div.cart{\n    display: flex;\n    justify-content: space-between;\n}\ndiv.main>div.cart>div{\n    height: 115px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n     width: 175px;\n}\ndiv.main>div.cart>div.checkAll{\n    width: 50px;\n}\ndiv.main>div.cart>div.product{\n    width:450px;\n    font-size: 12px;\n    padding-left: 20px;\n}\ndiv.main>div.cart>div.product>img{\n    /* width: 80px; */\n    height: 80px; \n}\ndiv.main>div.cart>div.product a{\n    text-decoration: none;\n    color: #000;\n}\ndiv.main>div.cart>div.product>div{\n   text-align: left;\n   margin-left: 10px;\n}\ndiv.main>div.cart>div>button{\n    width:30px;\n    height:40px\n}\ndiv.main>div.cart>div.price{\n    flex-flow: column;\n}\ndiv.main>div.cart>div.price>span:first-child{\n    color: #ff8486;\n}\n/* div.bottom */\ndiv.bottom>div.title{\n    display: flex;\n    justify-content: space-between;\n    background: #f9f9f9;\n    line-height: 40px;\n}\n\ndiv.bottom>div.title>p{\n    margin-left: 550px;\n    margin-bottom: 0;\n}\n div.bottom>div.title>a{\n     display: inline-block;\n     width: 150px;\n     height:40px;\n     color:#fff;\n     background-color: #74c7ff;\n     border-radius: 5px;\n     text-decoration: none;\n }\n",{"version":3,"sources":["cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cart.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <section>\r\n        <!-- 分为三层 top main bottom -->\r\n        <div class=\"top\">\r\n            <div>\r\n                <span>购物车</span>\r\n                <p>\r\n                    已选\r\n                    <span>{{output.cart.length}}</span>\r\n                    件商品\r\n                    &nbsp; &nbsp; &nbsp;\r\n                    合计(不含运费):\r\n                    <span>{{priceAll}}元</span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class=\"main\">\r\n            <div class=\"title\">\r\n                <div class=\"checkAll\">\r\n                    <input type=\"checkbox\">\r\n                    <span>全选</span>\r\n                </div>\r\n                <div class=\"product\">\r\n                    商品\r\n                </div>\r\n                <div >单价</div>\r\n                <div class=\"number\">数量</div>\r\n                <div class=\"priceAll\">金额</div>\r\n                <div class=\"del\">操作</div>\r\n            </div>\r\n            <div class=\"cart\" v-for=\"(item,index) of output.product\" :key=\"index\">\r\n                <div class=\"checkAll\">\r\n                    <input type=\"checkbox\">\r\n                </div>\r\n                <div class=\"product\">\r\n                    <img :src=\"item.show_img\" alt=\"\">\r\n                    <div>\r\n                         <a href=\"#\">{{item.title}}</a>\r\n                        <p class=\"mt-2\">规格：{{item.spec}}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"price\">\r\n                    <span>华为专项价:</span>\r\n                    <span>￥{{item.price}}</span>\r\n                </div>\r\n                <div>\r\n                    <button @click=\"subCount\" :data-cid=\"output.cart[index].cid\" :data-count=\"output.cart[index].count\">-</button>\r\n                    <input style=\"width:40px;height:40px;text-align:center;outline:none\" type=\"text\" :value=\"output.cart[index].count\" ref=\"count\" readonly >\r\n                    <button @click=\"addCount\" :data-cid=\"output.cart[index].cid\" :data-count=\"output.cart[index].count\">+</button>\r\n                </div> \r\n                <div>\r\n                    {{ item.price*output.cart[index].count }}</div>\r\n                <div>\r\n                    删除\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            <div class=\"title\">\r\n                <div class=\"checkAll\">\r\n                    <input type=\"checkbox\">\r\n                    <span>全选</span>\r\n                </div>\r\n                <p>\r\n                    已选\r\n                    <span>0</span>\r\n                    件商品\r\n                    &nbsp; &nbsp; &nbsp;\r\n                    合计(不含运费):\r\n                    <span>0.00元</span>\r\n                </p>\r\n                <a href=\"JavaScript:;\">去结算</a>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            output:{\r\n                cart:[\r\n                    \r\n                ],\r\n                product:[\r\n                    \r\n                ]\r\n            },\r\n            priceAll:0\r\n        }\r\n    },\r\n    props:[\r\n        \"uid\"\r\n    ],\r\n    mounted(){\r\n        this.load();\r\n    },\r\n    methods: {\r\n        load(){  //加载页面函数\r\n            var uid=sessionStorage.uid;  //获得当前登录状态的用户的uid\r\n            if(uid){    //如果存在登录用户uid\r\n            var src=\"http://127.0.0.1:3000/pro/cart\";\r\n            //var obj={uid:this.uid};\r\n            this.axios.get(src,{params:''}).then(result=>{\r\n                    this.output=result.data;\r\n                    console.log(this.output)\r\n                })\r\n            }else{  //如果不存在\r\n                alert(\"请先登录\");\r\n                this.$router.push('/');\r\n            };\r\n            //计算出总价\r\n            for(var i=0;i<this.output.cart.length;i++){\r\n                this.priceAll+=this.output.cart[i].count*this.output.product[i].price;\r\n            };\r\n            console.log(this.priceAll);\r\n\r\n        },\r\n        addCount(e){  //加按钮事件\r\n            console.log(e.target.dataset.cid);\r\n            console.log(this.$refs.count.value);\r\n           // var cid=e.target.dataset.cid;   //自定义属性获得所在商品购物车的cid和count\r\n            // var count=e.target.dataset.count;\r\n            // this.axios.get('http://127.0.0.1:3000/pro/cartadd',{params:{cid:cid,count:count}}).then(result=>{\r\n            //    //console.log(result);\r\n            //    this.load();  //重新加载页面\r\n            // })\r\n            this.$refs.count.value=0;\r\n        },\r\n        subCount(e){\r\n            var cid=e.target.dataset.cid;\r\n            var count=e.target.dataset.count;\r\n            if(count>1){  //只有当现在的数量大于一时,才进行减量的修改\r\n                this.axios.get('http://127.0.0.1:3000/pro/cartsub',{params:{cid:cid,count:count}}).then(result=>{\r\n                //console.log(result);\r\n                })\r\n            }\r\n            this.load();\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    /* 总体 */\r\n    section>div{\r\n        width: 1200px;\r\n        margin:0 auto;\r\n    }\r\n    /* div.top */\r\n    div.top>div{\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    div.top>div>span{\r\n        font-size: 20px;\r\n        color:#000;\r\n        font-weight: bolder;\r\n    }\r\n    div.top>div>p{\r\n        font-size: 12px;\r\n        margin: 0;\r\n        line-height: 30px;\r\n    }\r\n    div.top>div>p>span{\r\n        color:#ff8486;\r\n        font-size: 18px;\r\n    }\r\n    /* div.main */\r\n    div.main>div.title{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        border-top: 1px solid #ccc;\r\n    }\r\n    div.main>div.title>div{\r\n        height:37px;\r\n        width: 175px;\r\n        background: #f9f9f9;\r\n        line-height: 37px;\r\n    }\r\n    div.main>div.title>div.checkAll{\r\n        width: 50px;\r\n    }\r\n    div.main>div.title>div.product{\r\n        width:450px;\r\n    }\r\n    div.main>div.cart{\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n    div.main>div.cart>div{\r\n        height: 115px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n         width: 175px;\r\n    }\r\n    div.main>div.cart>div.checkAll{\r\n        width: 50px;\r\n    }\r\n    div.main>div.cart>div.product{\r\n        width:450px;\r\n        font-size: 12px;\r\n        padding-left: 20px;\r\n    }\r\n    div.main>div.cart>div.product>img{\r\n        /* width: 80px; */\r\n        height: 80px; \r\n    }\r\n    div.main>div.cart>div.product a{\r\n        text-decoration: none;\r\n        color: #000;\r\n    }\r\n    div.main>div.cart>div.product>div{\r\n       text-align: left;\r\n       margin-left: 10px;\r\n    }\r\n    div.main>div.cart>div>button{\r\n        width:30px;\r\n        height:40px\r\n    }\r\n    div.main>div.cart>div.price{\r\n        flex-flow: column;\r\n    }\r\n    div.main>div.cart>div.price>span:first-child{\r\n        color: #ff8486;\r\n    }\r\n    /* div.bottom */\r\n    div.bottom>div.title{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        background: #f9f9f9;\r\n        line-height: 40px;\r\n    }\r\n    \r\n    div.bottom>div.title>p{\r\n        margin-left: 550px;\r\n        margin-bottom: 0;\r\n    }\r\n     div.bottom>div.title>a{\r\n         display: inline-block;\r\n         width: 150px;\r\n         height:40px;\r\n         color:#fff;\r\n         background-color: #74c7ff;\r\n         border-radius: 5px;\r\n         text-decoration: none;\r\n     }\r\n</style>\r\n"]}]}